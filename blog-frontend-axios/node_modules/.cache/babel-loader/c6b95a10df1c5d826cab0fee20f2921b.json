{"ast":null,"code":"import { setLocalStorageValue, removeLocalStorageValue, getLocalStorageValue } from '../../utils/utils';\nexport const USER_KEY = 'user';\n\nconst getLocalAccessToken = () => {\n  const user = getLocalStorageValue(USER_KEY);\n  return user === null || user === void 0 ? void 0 : user.token;\n};\n\nconst updateLocalAccessToken = token => {\n  const user = getLocalStorageValue(USER_KEY);\n\n  if (user === null || user === void 0 ? void 0 : user.token) {\n    user.token.accessToken = token.accessToken;\n    setLocalStorageValue(USER_KEY, user);\n  }\n};\n\nconst getUser = () => {\n  return getLocalStorageValue(USER_KEY);\n};\n\nconst setUser = user => {\n  setLocalStorageValue(USER_KEY, user);\n};\n\nconst removeUser = () => {\n  removeLocalStorageValue(USER_KEY);\n};\n\nconst TokenService = {\n  getLocalAccessToken,\n  updateLocalAccessToken,\n  getUser,\n  setUser,\n  removeUser\n};\nexport default TokenService;","map":{"version":3,"sources":["F:/Documents/Documents/_Nest/nest-react-blog-marc/blog-frontend-axios/src/services/api/TokenService.ts"],"names":["setLocalStorageValue","removeLocalStorageValue","getLocalStorageValue","USER_KEY","getLocalAccessToken","user","token","updateLocalAccessToken","accessToken","getUser","setUser","removeUser","TokenService"],"mappings":"AAAA,SAASA,oBAAT,EAA+BC,uBAA/B,EAAwDC,oBAAxD,QAAoF,mBAApF;AAGA,OAAO,MAAMC,QAAQ,GAAG,MAAjB;;AAEL,MAAMC,mBAAmB,GAAG,MAAyB;AACnD,QAAMC,IAAI,GAAGH,oBAAoB,CAACC,QAAD,CAAjC;AACA,SAAOE,IAAP,aAAOA,IAAP,uBAAOA,IAAI,CAAEC,KAAb;AACD,CAHD;;AAKA,MAAMC,sBAAsB,GAAID,KAAD,IAAuB;AACpD,QAAMD,IAAI,GAAGH,oBAAoB,CAACC,QAAD,CAAjC;;AACA,MAAIE,IAAJ,aAAIA,IAAJ,uBAAIA,IAAI,CAAEC,KAAV,EAAiB;AACbD,IAAAA,IAAI,CAAEC,KAAN,CAAaE,WAAb,GAA2BF,KAAK,CAACE,WAAjC;AACAR,IAAAA,oBAAoB,CAACG,QAAD,EAAWE,IAAX,CAApB;AACH;AACF,CAND;;AAQA,MAAMI,OAAO,GAAG,MAAY;AAC1B,SAAOP,oBAAoB,CAACC,QAAD,CAA3B;AACD,CAFD;;AAIA,MAAMO,OAAO,GAAIL,IAAD,IAAgB;AAC9BL,EAAAA,oBAAoB,CAACG,QAAD,EAAWE,IAAX,CAApB;AACD,CAFD;;AAIA,MAAMM,UAAU,GAAG,MAAM;AACvBV,EAAAA,uBAAuB,CAACE,QAAD,CAAvB;AACD,CAFD;;AAIA,MAAMS,YAAY,GAAG;AACnBR,EAAAA,mBADmB;AAEnBG,EAAAA,sBAFmB;AAGnBE,EAAAA,OAHmB;AAInBC,EAAAA,OAJmB;AAKnBC,EAAAA;AALmB,CAArB;AAQA,eAAeC,YAAf","sourcesContent":["import { setLocalStorageValue, removeLocalStorageValue, getLocalStorageValue } from '../../utils/utils';\r\nimport { IAuthToken, User } from '../../types';\r\n  \r\nexport const USER_KEY = 'user';\r\n\r\n  const getLocalAccessToken = (): IAuthToken | null => {\r\n    const user = getLocalStorageValue(USER_KEY) as User;\r\n    return user?.token!;\r\n  };\r\n  \r\n  const updateLocalAccessToken = (token: IAuthToken) => {\r\n    const user = getLocalStorageValue(USER_KEY) as User;\r\n    if (user?.token) {\r\n        user!.token!.accessToken = token.accessToken;\r\n        setLocalStorageValue(USER_KEY, user);\r\n    }\r\n  };\r\n  \r\n  const getUser = (): User => {\r\n    return getLocalStorageValue(USER_KEY) as User;\r\n  };\r\n  \r\n  const setUser = (user: User) => {\r\n    setLocalStorageValue(USER_KEY, user);\r\n  };\r\n  \r\n  const removeUser = () => {\r\n    removeLocalStorageValue(USER_KEY);\r\n  };\r\n  \r\n  const TokenService = {\r\n    getLocalAccessToken,\r\n    updateLocalAccessToken,\r\n    getUser,\r\n    setUser,\r\n    removeUser,\r\n  };\r\n  \r\n  export default TokenService;"]},"metadata":{},"sourceType":"module"}