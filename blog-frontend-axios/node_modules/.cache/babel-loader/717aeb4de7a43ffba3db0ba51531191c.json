{"ast":null,"code":"import _slicedToArray from \"F:\\\\Documents\\\\Documents\\\\_Nest\\\\nest-react-blog-marc\\\\blog-frontend-axios\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"F:\\\\Documents\\\\Documents\\\\_Nest\\\\nest-react-blog-marc\\\\blog-frontend-axios\\\\src\\\\components\\\\Home.tsx\";\nimport React, { useState, useEffect } from 'react';\nimport { createActionLoading } from '../reducers/auth';\nimport useAuth from '../contexts/auth';\nimport ImageResize from './common/ImageResize';\nimport { resizeImage } from '../utils/image.utils';\n\nconst Home = () => {\n  const _useState = useState(),\n        _useState2 = _slicedToArray(_useState, 2),\n        homeDefaultImage = _useState2[0],\n        sethomeDefaultImage = _useState2[1];\n\n  const _useAuth = useAuth(),\n        isLoading = _useAuth.state.isLoading,\n        dispatch = _useAuth.dispatch;\n\n  useEffect(() => {\n    if (!homeDefaultImage) {\n      const fetchData = async () => {\n        dispatch(createActionLoading(true));\n        getDefaultHomeImage().then(imageData => {\n          sethomeDefaultImage(imageData);\n        }).catch(error => {\n          throw new Error(error);\n        });\n        dispatch(createActionLoading(false));\n      };\n\n      fetchData();\n    } // eslint-disable-next-line\n\n  }, []);\n\n  const getDefaultHomeImage = () => {\n    return resizeImage('/default-home-image.jpg', 'image/jpg', imageMaxSize.maxWidth, imageMaxSize.maxHeight);\n  };\n\n  const imageMaxSize = {\n    maxWidth: 500,\n    maxHeight: 500\n  };\n  return React.createElement(\"div\", {\n    className: \"Home\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, homeDefaultImage && React.createElement(ImageResize, {\n    imageData: homeDefaultImage,\n    resize: imageMaxSize,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(\"text\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, \"Welcome to the Public Words Blog. With over 25k global visitors each month, it is a popular and trusted resource. Dr Nick Morgan shares his expertise and insight into the art and business of public speaking. Subscribe for posts twice weekly.\")))));\n};\n\nexport default Home;","map":{"version":3,"sources":["F:/Documents/Documents/_Nest/nest-react-blog-marc/blog-frontend-axios/src/components/Home.tsx"],"names":["React","useState","useEffect","createActionLoading","useAuth","ImageResize","resizeImage","Home","homeDefaultImage","sethomeDefaultImage","isLoading","state","dispatch","fetchData","getDefaultHomeImage","then","imageData","catch","error","Error","imageMaxSize","maxWidth","maxHeight"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AAEA,SAASC,mBAAT,QAAoC,kBAApC;AACA,OAAOC,OAAP,MAAoB,kBAApB;AAEA,OAAOC,WAAP,MAAwB,sBAAxB;AACA,SAASC,WAAT,QAA4B,sBAA5B;;AAEA,MAAMC,IAAI,GAAG,MAAM;AAAA,oBAE+BN,QAAQ,EAFvC;AAAA;AAAA,QAEVO,gBAFU;AAAA,QAEQC,mBAFR;;AAAA,mBAG0BL,OAAO,EAHjC;AAAA,QAGAM,SAHA,YAGTC,KAHS,CAGAD,SAHA;AAAA,QAGaE,QAHb,YAGaA,QAHb;;AAKjBV,EAAAA,SAAS,CAAC,MAAM;AACd,QAAI,CAACM,gBAAL,EAAuB;AACrB,YAAMK,SAAS,GAAG,YAA2B;AAC3CD,QAAAA,QAAQ,CAACT,mBAAmB,CAAC,IAAD,CAApB,CAAR;AACAW,QAAAA,mBAAmB,GAClBC,IADD,CACMC,SAAS,IAAI;AACjBP,UAAAA,mBAAmB,CAACO,SAAD,CAAnB;AACD,SAHD,EAICC,KAJD,CAIOC,KAAK,IAAI;AACd,gBAAM,IAAIC,KAAJ,CAAUD,KAAV,CAAN;AACD,SAND;AAOAN,QAAAA,QAAQ,CAACT,mBAAmB,CAAC,KAAD,CAApB,CAAR;AACD,OAVD;;AAWAU,MAAAA,SAAS;AACV,KAda,CAehB;;AACC,GAhBQ,EAgBN,EAhBM,CAAT;;AAkBA,QAAMC,mBAAmB,GAAG,MAA0B;AACpD,WAAOR,WAAW,CAAC,yBAAD,EAA4B,WAA5B,EAAyCc,YAAY,CAACC,QAAtD,EAAgED,YAAY,CAACE,SAA7E,CAAlB;AACD,GAFD;;AAIA,QAAMF,YAA4B,GAAG;AAACC,IAAAA,QAAQ,EAAC,GAAV;AAAeC,IAAAA,SAAS,EAAC;AAAzB,GAArC;AAEA,SACE;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACId,gBAAgB,IAAI,oBAAC,WAAD;AAAa,IAAA,SAAS,EAAEA,gBAAxB;AAA0C,IAAA,MAAM,EAAEY,YAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADxB,CADF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yPADF,CAJF,CADF,CADF,CADF;AAgBD,CA7CD;;AA+CA,eAAeb,IAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { IErrors, ImageSizeProps, ImageData } from '../types';\r\nimport { createActionLoading } from '../reducers/auth';\r\nimport useAuth from '../contexts/auth';\r\nimport Image from './common/Image';\r\nimport ImageResize from './common/ImageResize';\r\nimport { resizeImage } from '../utils/image.utils';\r\n\r\nconst Home = () => {\r\n\r\n  const [homeDefaultImage, sethomeDefaultImage] = useState<ImageData>();\r\n  const { state: { isLoading }, dispatch } = useAuth();\r\n\r\n  useEffect(() => {\r\n    if (!homeDefaultImage) {\r\n      const fetchData = async (): Promise<void> => {\r\n        dispatch(createActionLoading(true));\r\n        getDefaultHomeImage()\r\n        .then(imageData => { \r\n          sethomeDefaultImage(imageData);\r\n        }) \r\n        .catch(error => {\r\n          throw new Error(error);\r\n        });\r\n        dispatch(createActionLoading(false));\r\n      }\r\n      fetchData();  \r\n    }\r\n  // eslint-disable-next-line\r\n  }, []);\r\n\r\n  const getDefaultHomeImage = (): Promise<ImageData> => {\r\n    return resizeImage('/default-home-image.jpg', 'image/jpg', imageMaxSize.maxWidth, imageMaxSize.maxHeight);\r\n  }\r\n\r\n  const imageMaxSize: ImageSizeProps = {maxWidth:500, maxHeight:500}\r\n\r\n  return (  \r\n    <div className=\"Home\"> \r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          <div>\r\n            { homeDefaultImage && <ImageResize imageData={homeDefaultImage} resize={imageMaxSize}/>}\r\n          </div>\r\n          <div>\r\n            <text>\r\n              Welcome to the Public Words Blog. With over 25k global visitors each month, it is a popular and trusted resource. Dr Nick Morgan shares his expertise and insight into the art and business of public speaking. Subscribe for posts twice weekly. \r\n            </text>            \r\n          </div>\r\n        </div> \r\n      </div> \r\n    </div>  \r\n  );  \r\n}\r\n\r\nexport default Home;\r\n"]},"metadata":{},"sourceType":"module"}