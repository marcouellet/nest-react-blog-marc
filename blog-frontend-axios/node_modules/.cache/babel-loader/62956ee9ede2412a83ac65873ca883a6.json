{"ast":null,"code":"import _objectSpread from \"F:\\\\Documents\\\\Documents\\\\_Nest\\\\nest-react-blog-marc\\\\blog-frontend-axios\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"F:\\\\Documents\\\\Documents\\\\_Nest\\\\nest-react-blog-marc\\\\blog-frontend-axios\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"F:\\\\Documents\\\\Documents\\\\_Nest\\\\nest-react-blog-marc\\\\blog-frontend-axios\\\\src\\\\components\\\\common\\\\ImageResize.tsx\";\nimport React, { useState, useEffect } from 'react';\nimport { resizeImage } from '../../utils/image.utils';\nimport Image from '../common/Image';\n\nconst ImageResize = props => {\n  const _useState = useState(),\n        _useState2 = _slicedToArray(_useState, 2),\n        image = _useState2[0],\n        setImage = _useState2[1];\n\n  useEffect(() => {\n    const propImage = _objectSpread({}, props.imageData);\n\n    if (propImage) {\n      resizeImage(propImage, props.resize.maxWidth, props.resize.maxHeight).then(imageData => {\n        setImage(imageData);\n      });\n    } // eslint-disable-next-line\n\n  }, []);\n\n  const handleOnError = error => {\n    throw new Error(error);\n  };\n\n  return React.createElement(React.Fragment, null, props.imageData && React.createElement(\"img\", {\n    src: `data:${props.imageData.contentType};base64,` + props.imageData.base64,\n    alt: \"not found\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }), image && React.createElement(Image, {\n    imageData: image,\n    onError: handleOnError,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }));\n};\n\nexport default ImageResize;","map":{"version":3,"sources":["F:/Documents/Documents/_Nest/nest-react-blog-marc/blog-frontend-axios/src/components/common/ImageResize.tsx"],"names":["React","useState","useEffect","resizeImage","Image","ImageResize","props","image","setImage","propImage","imageData","resize","maxWidth","maxHeight","then","handleOnError","error","Error","contentType","base64"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AAEA,SAASC,WAAT,QAA4B,yBAA5B;AACA,OAAOC,KAAP,MAAkB,iBAAlB;;AAOA,MAAMC,WAAW,GAAIC,KAAD,IAA6B;AAAA,oBAEnBL,QAAQ,EAFW;AAAA;AAAA,QAEtCM,KAFsC;AAAA,QAE/BC,QAF+B;;AAI7CN,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMO,SAAoB,qBAAOH,KAAK,CAACI,SAAb,CAA1B;;AAEA,QAAID,SAAJ,EAAe;AACXN,MAAAA,WAAW,CAACM,SAAD,EAAYH,KAAK,CAACK,MAAN,CAAaC,QAAzB,EAAmCN,KAAK,CAACK,MAAN,CAAaE,SAAhD,CAAX,CACCC,IADD,CACMJ,SAAS,IAAI;AAAEF,QAAAA,QAAQ,CAACE,SAAD,CAAR;AAAsB,OAD3C;AAEH,KANW,CAOd;;AACC,GARM,EAQJ,EARI,CAAT;;AAUA,QAAMK,aAAa,GAAIC,KAAD,IAAgB;AAClC,UAAM,IAAIC,KAAJ,CAAUD,KAAV,CAAN;AACH,GAFD;;AAIA,SACI,0CACMV,KAAK,CAACI,SAAN,IACE;AACI,IAAA,GAAG,EAAI,QAAOJ,KAAK,CAACI,SAAN,CAAgBQ,WAAY,UAApC,GAAgDZ,KAAK,CAACI,SAAN,CAAgBS,MAD1E;AAEI,IAAA,GAAG,EAAC,WAFR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFR,EAOKZ,KAAK,IAAI,oBAAC,KAAD;AAAO,IAAA,SAAS,EAAEA,KAAlB;AAAyB,IAAA,OAAO,EAAEQ,aAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPd,CADJ;AAWH,CA7BD;;AA+BA,eAAeV,WAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { ImageData, ImageSizeProps } from '../../types';\r\nimport { resizeImage } from '../../utils/image.utils';\r\nimport Image from '../common/Image';\r\n\r\nexport interface ImageResizeProps {\r\n    imageData: ImageData,\r\n    resize: ImageSizeProps,\r\n}\r\n\r\nconst ImageResize = (props: ImageResizeProps) => {\r\n\r\n    const [image, setImage] = useState<ImageData>(); \r\n\r\n    useEffect(() => {\r\n        const propImage: ImageData = {...props.imageData};\r\n        \r\n        if (propImage) {\r\n            resizeImage(propImage, props.resize.maxWidth, props.resize.maxHeight)\r\n            .then(imageData => { setImage(imageData); }); \r\n        }\r\n      // eslint-disable-next-line\r\n      }, []);\r\n\r\n    const handleOnError = (error: any) => {\r\n        throw new Error(error);\r\n    }\r\n    \r\n    return ( \r\n        <>\r\n            { props.imageData &&\r\n                <img \r\n                    src={ `data:${props.imageData.contentType};base64,` + props.imageData.base64}\r\n                    alt=\"not found\" \r\n                />\r\n            }\r\n            {image && <Image imageData={image} onError={handleOnError}/> }         \r\n       </>\r\n    ) \r\n}\r\n\r\nexport default ImageResize;\r\n"]},"metadata":{},"sourceType":"module"}