{"ast":null,"code":"var _jsxFileName = \"F:\\\\Documents\\\\Documents\\\\_Nest\\\\nest-react-blog-marc\\\\blog-frontend-axios\\\\src\\\\components\\\\NavigationBar.tsx\";\nimport React from 'react';\nimport Navbar from 'react-bootstrap/Navbar';\nimport Container from 'react-bootstrap/Container';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport ButtonGroup from 'react-bootstrap/ButtonGroup';\nimport Nav from 'react-bootstrap/Nav';\nimport { Link, useNavigate } from 'react-router-dom';\nimport useAuth from '../contexts/auth';\nimport { createActionLogout } from '../reducers/auth';\nimport AUTHAPI from '../services/api/AuthApiService';\nimport { toast } from \"react-toastify\";\nimport { UserRole } from '../types';\n\nconst NavigationBar = () => {\n  const _useAuth = useAuth(),\n        _useAuth$state = _useAuth.state,\n        user = _useAuth$state.user,\n        isAuthenticated = _useAuth$state.isAuthenticated,\n        isLoading = _useAuth$state.isLoading,\n        dispatch = _useAuth.dispatch;\n\n  const navigate = useNavigate();\n\n  const handleLogout = () => {\n    dispatch(createActionLogout());\n    AUTHAPI.logout();\n    toast.info(`${user.username} is logged out`);\n    setTimeout(() => {\n      navigate('/');\n    }, 1500);\n  };\n\n  const isAdministrator = () => isAuthenticated && (user === null || user === void 0 ? void 0 : user.role) === UserRole.ADMIN;\n\n  const authButton = () => {\n    if (isAuthenticated) {\n      return React.createElement(Button, {\n        variant: \"secondary\",\n        onClick: handleLogout,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32\n        },\n        __self: this\n      }, \"Logout\");\n    } else {\n      return React.createElement(ButtonGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"secondary\",\n        as: Link,\n        to: \"/login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }, \"Login\"), React.createElement(Button, {\n        variant: \"secondary\",\n        as: Link,\n        to: \"/register\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }, \"Register\"));\n    }\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(Navbar, {\n    bg: \"dark\",\n    variant: \"dark\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(Container, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(Navbar.Brand, {\n    href: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, \"Blog Marc\"), React.createElement(Nav, {\n    className: \"me-auto\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, React.createElement(Nav.Link, {\n    href: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, \"Home\"), !isLoading && isAuthenticated && React.createElement(Nav.Link, {\n    href: \"/post/create\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, \"Create Post\"), !isLoading && React.createElement(Nav.Link, {\n    href: \"/category\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, \"Categories\"), !isLoading && isAdministrator() && React.createElement(Nav.Link, {\n    href: \"/user2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, \"Admin User\"))), React.createElement(Form, {\n    inline: true,\n    className: \"mx-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, authButton())), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }));\n};\n\nexport default NavigationBar;","map":{"version":3,"sources":["F:/Documents/Documents/_Nest/nest-react-blog-marc/blog-frontend-axios/src/components/NavigationBar.tsx"],"names":["React","Navbar","Container","Form","Button","ButtonGroup","Nav","Link","useNavigate","useAuth","createActionLogout","AUTHAPI","toast","UserRole","NavigationBar","state","user","isAuthenticated","isLoading","dispatch","navigate","handleLogout","logout","info","username","setTimeout","isAdministrator","role","ADMIN","authButton"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport Navbar from 'react-bootstrap/Navbar';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Button from 'react-bootstrap/Button';\r\nimport ButtonGroup from 'react-bootstrap/ButtonGroup';\r\nimport Nav from 'react-bootstrap/Nav';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport useAuth from '../contexts/auth';\r\nimport { createActionLogout } from '../reducers/auth';\r\nimport AUTHAPI from '../services/api/AuthApiService';\r\nimport { toast } from \"react-toastify\";\r\nimport { UserRole } from '../types';\r\n\r\nconst NavigationBar = () => {\r\n    const { state: { user, isAuthenticated, isLoading}, dispatch } = useAuth();\r\n    const navigate = useNavigate();\r\n\r\n     const handleLogout = () => {\r\n        dispatch(createActionLogout());\r\n        AUTHAPI.logout();\r\n        toast.info(`${user!.username} is logged out`);\r\n        setTimeout(() => {\r\n            navigate('/');\r\n          }, 1500);\r\n      };\r\n\r\n    const isAdministrator = () => isAuthenticated && user?.role === UserRole.ADMIN;\r\n\r\n    const authButton = () => {\r\n        if (isAuthenticated) {\r\n            return <Button variant=\"secondary\" onClick={handleLogout}>Logout</Button>;\r\n        } else {\r\n            return (\r\n                <ButtonGroup>\r\n                    <Button variant=\"secondary\" as={Link} to=\"/login\">Login</Button>\r\n                    <Button variant=\"secondary\" as={Link} to=\"/register\">Register</Button>\r\n                </ButtonGroup>\r\n            )              \r\n        } \r\n    }\r\n\r\n    return (\r\n    <>\r\n        <Navbar bg=\"dark\" variant=\"dark\">\r\n            <Container>\r\n                <Navbar.Brand href=\"/\">Blog Marc</Navbar.Brand>\r\n                <Nav className=\"me-auto\">\r\n                    <Nav.Link href=\"/\">Home</Nav.Link>\r\n                    {!isLoading && isAuthenticated && <Nav.Link href=\"/post/create\">Create Post</Nav.Link>}\r\n                    {!isLoading && <Nav.Link href=\"/category\">Categories</Nav.Link>}\r\n                    {!isLoading && isAdministrator() && <Nav.Link href=\"/user2\">Admin User</Nav.Link>}\r\n                </Nav>\r\n            </Container>\r\n            <Form inline className=\"mx-3\">\r\n                {authButton()}\r\n            </Form>\r\n        </Navbar>\r\n        <br/>\r\n    </>\r\n    );\r\n}\r\n\r\nexport default NavigationBar;\r\n"]},"metadata":{},"sourceType":"module"}