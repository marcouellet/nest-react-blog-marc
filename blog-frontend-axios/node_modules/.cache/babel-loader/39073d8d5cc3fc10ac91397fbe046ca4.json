{"ast":null,"code":"import { setLocalStorageValue, removeLocalStorageValue, getLocalStorageValue } from '../../utils/local.storage.utils';\nexport const USER_KEY = 'user';\nexport const HTTP_RESPONSE_TIMESTAMP = 'http_response_timestamp';\n\nconst getLocalAccessToken = () => {\n  const user = getLocalStorageValue(USER_KEY);\n  return user === null || user === void 0 ? void 0 : user.authtoken;\n};\n\nconst updateLocalAccessToken = token => {\n  const user = getLocalStorageValue(USER_KEY);\n\n  if (user === null || user === void 0 ? void 0 : user.authtoken) {\n    user.authtoken.accessToken = token.accessToken;\n    setLocalStorageValue(USER_KEY, user);\n  }\n};\n\nconst getUser = () => {\n  return getLocalStorageValue(USER_KEY);\n};\n\nconst setUser = user => {\n  setLocalStorageValue(USER_KEY, user);\n};\n\nconst removeUser = () => {\n  removeLocalStorageValue(USER_KEY);\n};\n\nconst getHttpResponseTimeStamp = () => {\n  return getLocalStorageValue(HTTP_RESPONSE_TIMESTAMP);\n};\n\nconst setHttpResponseTimeStamp = timestamp => {\n  setLocalStorageValue(HTTP_RESPONSE_TIMESTAMP, timestamp);\n};\n\nconst TokenService = {\n  getLocalAccessToken,\n  updateLocalAccessToken,\n  getUser,\n  setUser,\n  removeUser,\n  getHttpResponseTimeStamp,\n  setHttpResponseTimeStamp\n};\nexport default TokenService;","map":{"version":3,"sources":["F:/Documents/Documents/_Nest/nest-react-blog-marc/blog-frontend-axios/src/services/api/TokenService.ts"],"names":["setLocalStorageValue","removeLocalStorageValue","getLocalStorageValue","USER_KEY","HTTP_RESPONSE_TIMESTAMP","getLocalAccessToken","user","authtoken","updateLocalAccessToken","token","accessToken","getUser","setUser","removeUser","getHttpResponseTimeStamp","setHttpResponseTimeStamp","timestamp","TokenService"],"mappings":"AAAA,SAASA,oBAAT,EAA+BC,uBAA/B,EAAwDC,oBAAxD,QAAoF,iCAApF;AAGA,OAAO,MAAMC,QAAQ,GAAG,MAAjB;AACP,OAAO,MAAMC,uBAAuB,GAAG,yBAAhC;;AAEL,MAAMC,mBAAmB,GAAG,MAAyB;AACnD,QAAMC,IAAI,GAAGJ,oBAAoB,CAACC,QAAD,CAAjC;AACA,SAAOG,IAAP,aAAOA,IAAP,uBAAOA,IAAI,CAAEC,SAAb;AACD,CAHD;;AAKA,MAAMC,sBAAsB,GAAIC,KAAD,IAAuB;AACpD,QAAMH,IAAI,GAAGJ,oBAAoB,CAACC,QAAD,CAAjC;;AACA,MAAIG,IAAJ,aAAIA,IAAJ,uBAAIA,IAAI,CAAEC,SAAV,EAAqB;AACjBD,IAAAA,IAAI,CAAEC,SAAN,CAAiBG,WAAjB,GAA+BD,KAAK,CAACC,WAArC;AACAV,IAAAA,oBAAoB,CAACG,QAAD,EAAWG,IAAX,CAApB;AACH;AACF,CAND;;AAQA,MAAMK,OAAO,GAAG,MAAY;AAC1B,SAAOT,oBAAoB,CAACC,QAAD,CAA3B;AACD,CAFD;;AAIA,MAAMS,OAAO,GAAIN,IAAD,IAAgB;AAC9BN,EAAAA,oBAAoB,CAACG,QAAD,EAAWG,IAAX,CAApB;AACD,CAFD;;AAIA,MAAMO,UAAU,GAAG,MAAM;AACvBZ,EAAAA,uBAAuB,CAACE,QAAD,CAAvB;AACD,CAFD;;AAIA,MAAMW,wBAAwB,GAAG,MAAY;AAC3C,SAAOZ,oBAAoB,CAACE,uBAAD,CAA3B;AACD,CAFD;;AAIA,MAAMW,wBAAwB,GAAIC,SAAD,IAAqB;AACpDhB,EAAAA,oBAAoB,CAACI,uBAAD,EAA0BY,SAA1B,CAApB;AACD,CAFD;;AAIA,MAAMC,YAAY,GAAG;AACnBZ,EAAAA,mBADmB;AAEnBG,EAAAA,sBAFmB;AAGnBG,EAAAA,OAHmB;AAInBC,EAAAA,OAJmB;AAKnBC,EAAAA,UALmB;AAMnBC,EAAAA,wBANmB;AAOnBC,EAAAA;AAPmB,CAArB;AAUA,eAAeE,YAAf","sourcesContent":["import { setLocalStorageValue, removeLocalStorageValue, getLocalStorageValue } from '../../utils/local.storage.utils';\r\nimport { IAuthToken, User } from '../../types';\r\n  \r\nexport const USER_KEY = 'user';\r\nexport const HTTP_RESPONSE_TIMESTAMP = 'http_response_timestamp';\r\n\r\n  const getLocalAccessToken = (): IAuthToken | null => {\r\n    const user = getLocalStorageValue(USER_KEY) as User;\r\n    return user?.authtoken!;\r\n  };\r\n  \r\n  const updateLocalAccessToken = (token: IAuthToken) => {\r\n    const user = getLocalStorageValue(USER_KEY) as User;\r\n    if (user?.authtoken) {\r\n        user!.authtoken!.accessToken = token.accessToken;\r\n        setLocalStorageValue(USER_KEY, user);\r\n    }\r\n  };\r\n \r\n  const getUser = (): User => {\r\n    return getLocalStorageValue(USER_KEY) as User;\r\n  };\r\n  \r\n  const setUser = (user: User) => {\r\n    setLocalStorageValue(USER_KEY, user);\r\n  };\r\n  \r\n  const removeUser = () => {\r\n    removeLocalStorageValue(USER_KEY);\r\n  };\r\n\r\n  const getHttpResponseTimeStamp = (): Date => {\r\n    return getLocalStorageValue(HTTP_RESPONSE_TIMESTAMP) as Date;\r\n  };\r\n  \r\n  const setHttpResponseTimeStamp = (timestamp: Date) => {\r\n    setLocalStorageValue(HTTP_RESPONSE_TIMESTAMP, timestamp);\r\n  };\r\n  \r\n  const TokenService = {\r\n    getLocalAccessToken,\r\n    updateLocalAccessToken,\r\n    getUser,\r\n    setUser,\r\n    removeUser,\r\n    getHttpResponseTimeStamp,\r\n    setHttpResponseTimeStamp\r\n  };\r\n  \r\n  export default TokenService;"]},"metadata":{},"sourceType":"module"}