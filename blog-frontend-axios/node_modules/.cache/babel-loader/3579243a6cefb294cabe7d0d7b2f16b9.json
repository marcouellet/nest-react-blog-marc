{"ast":null,"code":"var _jsxFileName = \"F:\\\\Documents\\\\Documents\\\\_Nest\\\\nest-react-blog-marc\\\\blog-frontend-axios\\\\src\\\\components\\\\NavigationBar.tsx\";\nimport React from 'react';\nimport Navbar from 'react-bootstrap/Navbar';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport ButtonGroup from 'react-bootstrap/ButtonGroup';\nimport Nav from 'react-bootstrap/Nav';\nimport { Link, useNavigate } from 'react-router-dom';\nimport useAuth from '../contexts/auth';\nimport { createActionLogout, createActionLoading } from '../reducers/auth';\nimport AUTHAPI from '../services/api/AuthApiService'; // import { toast } from \"react-toastify\";\n\nimport { UserRole } from '../types';\n\nconst NavigationBar = () => {\n  const _useAuth = useAuth(),\n        _useAuth$state = _useAuth.state,\n        user = _useAuth$state.user,\n        isAuthenticated = _useAuth$state.isAuthenticated,\n        isLoading = _useAuth$state.isLoading,\n        dispatch = _useAuth.dispatch;\n\n  const navigate = useNavigate();\n\n  const handleLogout = () => {\n    dispatch(createActionLoading(true));\n    dispatch(createActionLogout());\n    AUTHAPI.logout(); // toast.info(`${user!.username} is logged out`);\n\n    setTimeout(() => {\n      dispatch(createActionLoading(false));\n      navigate('/');\n    }, 1500);\n  };\n\n  const handleUserProfile = () => {\n    navigate('/user/profile');\n  };\n\n  const isAdministrator = () => isAuthenticated && (user === null || user === void 0 ? void 0 : user.role) === UserRole.ADMIN;\n\n  const authButton = () => {\n    if (isAuthenticated) {\n      return React.createElement(ButtonGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"secondary\",\n        onClick: handleLogout,\n        disabled: isLoading,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }, \"Logout\"), React.createElement(Button, {\n        variant: \"secondary\",\n        onClick: handleUserProfile,\n        disabled: isLoading,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }, \"Profile\"));\n    } else {\n      return React.createElement(ButtonGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"secondary\",\n        as: Link,\n        to: \"/login\",\n        disabled: isLoading,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, \"Login\"), React.createElement(Button, {\n        variant: \"secondary\",\n        as: Link,\n        to: \"/register\",\n        disabled: isLoading,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, \"Register\"));\n    }\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(Navbar, {\n    expand: \"lg\",\n    bg: \"dark\",\n    variant: \"dark\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"container-fluid\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, React.createElement(Navbar.Brand, {\n    href: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, \"Marc's Blog\"), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, React.createElement(Nav, {\n    className: \"me-auto\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, React.createElement(Nav.Link, {\n    href: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, \"Home\"), React.createElement(Nav.Link, {\n    href: \"/post\",\n    disabled: isLoading,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, \"Posts\"), React.createElement(Nav.Link, {\n    href: \"/category\",\n    disabled: isLoading,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, \"Categories\"), isAdministrator() && React.createElement(Nav.Link, {\n    href: \"/user\",\n    disabled: isLoading,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, \"Users\")))), React.createElement(Form, {\n    inline: true,\n    className: \"mx-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, authButton())), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }));\n};\n\nexport default NavigationBar;","map":{"version":3,"sources":["F:/Documents/Documents/_Nest/nest-react-blog-marc/blog-frontend-axios/src/components/NavigationBar.tsx"],"names":["React","Navbar","Form","Button","ButtonGroup","Nav","Link","useNavigate","useAuth","createActionLogout","createActionLoading","AUTHAPI","UserRole","NavigationBar","state","user","isAuthenticated","isLoading","dispatch","navigate","handleLogout","logout","setTimeout","handleUserProfile","isAdministrator","role","ADMIN","authButton"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport Navbar from 'react-bootstrap/Navbar';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Button from 'react-bootstrap/Button';\r\nimport ButtonGroup from 'react-bootstrap/ButtonGroup';\r\nimport Nav from 'react-bootstrap/Nav';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport useAuth from '../contexts/auth';\r\nimport { createActionLogout, createActionLoading } from '../reducers/auth';\r\nimport AUTHAPI from '../services/api/AuthApiService';\r\n// import { toast } from \"react-toastify\";\r\nimport { UserRole } from '../types';\r\n\r\nconst NavigationBar = () => {\r\n    const { state: { user, isAuthenticated, isLoading}, dispatch } = useAuth();\r\n    const navigate = useNavigate();\r\n\r\n     const handleLogout = () => {\r\n        dispatch(createActionLoading(true));\r\n        dispatch(createActionLogout());\r\n        AUTHAPI.logout();\r\n        // toast.info(`${user!.username} is logged out`);\r\n        setTimeout(() => {\r\n            dispatch(createActionLoading(false));\r\n            navigate('/');\r\n          }, 1500);\r\n      };\r\n\r\n      const handleUserProfile = () => {\r\n        navigate('/user/profile');\r\n      }\r\n\r\n    const isAdministrator = () => isAuthenticated && user?.role === UserRole.ADMIN;\r\n\r\n    const authButton = () => {\r\n        if (isAuthenticated) {\r\n            return (\r\n                <ButtonGroup>\r\n                    <Button variant=\"secondary\" onClick={handleLogout} disabled={isLoading}>Logout</Button>\r\n                    <Button variant=\"secondary\" onClick={handleUserProfile}  disabled={isLoading}>Profile</Button>\r\n                </ButtonGroup>\r\n            )\r\n        } else {\r\n            return (\r\n                <ButtonGroup>\r\n                    <Button variant=\"secondary\" as={Link} to=\"/login\" disabled={isLoading}>Login</Button>\r\n                    <Button variant=\"secondary\" as={Link} to=\"/register\" disabled={isLoading}>Register</Button>\r\n                </ButtonGroup>\r\n            )              \r\n        } \r\n    }\r\n\r\n    return (\r\n    <>\r\n        <Navbar expand=\"lg\" bg=\"dark\" variant=\"dark\">\r\n            <div className=\"container-fluid\">\r\n                <Navbar.Brand href=\"/\">Marc's Blog</Navbar.Brand>\r\n                <div>\r\n                <Nav className=\"me-auto\">\r\n                    <Nav.Link href=\"/\">Home</Nav.Link>\r\n                    <Nav.Link href=\"/post\" disabled={isLoading}>Posts</Nav.Link>\r\n                    <Nav.Link href=\"/category\" disabled={isLoading}>Categories</Nav.Link>\r\n                    {isAdministrator() && <Nav.Link href=\"/user\" disabled={isLoading}>Users</Nav.Link>}\r\n                </Nav>\r\n\r\n                </div>\r\n            </div>\r\n            <Form inline className=\"mx-3\">\r\n                {authButton()}\r\n            </Form>\r\n        </Navbar>\r\n        <br/>\r\n    </>\r\n    );\r\n}\r\n\r\nexport default NavigationBar;\r\n"]},"metadata":{},"sourceType":"module"}