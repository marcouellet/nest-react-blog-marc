{"ast":null,"code":"import _slicedToArray from \"F:\\\\Documents\\\\Documents\\\\_Nest\\\\nest-react-blog-marc\\\\blog-frontend-axios\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"F:\\\\Documents\\\\Documents\\\\_Nest\\\\nest-react-blog-marc\\\\blog-frontend-axios\\\\src\\\\contexts\\\\modalConfirmationContext.tsx\";\nimport React, { useContext, useRef, useState } from \"react\";\nimport Modal from \"react-bootstrap/Modal\";\nimport Button from \"react-bootstrap/Button\";\nimport { useModalShow } from './useModalShow';\nconst ConfirmationModalContext = React.createContext({});\n\nconst ConfirmationModalContextProvider = props => {\n  const _useModalShow = useModalShow(),\n        setShow = _useModalShow.setShow,\n        show = _useModalShow.show,\n        onHide = _useModalShow.onHide;\n\n  const _useState = useState(),\n        _useState2 = _slicedToArray(_useState, 2),\n        content = _useState2[0],\n        setContent = _useState2[1];\n\n  const resolver = useRef();\n\n  const handleShow = (title, message) => {\n    setContent({\n      title,\n      message\n    });\n    setShow(true);\n    return new Promise(function (resolve) {\n      resolver.current = resolve;\n    });\n  };\n\n  const modalContext = {\n    showConfirmation: handleShow\n  };\n\n  const handleOk = event => {\n    event.stopPropagation();\n    onHide();\n    resolver.current && resolver.current(true);\n  };\n\n  const handleCancel = event => {\n    event.stopPropagation();\n    onHide();\n    resolver.current && resolver.current(false);\n  };\n\n  const onExit = () => {\n    alert(\"Goodbye ðŸ˜€\");\n    setShow(false);\n  };\n\n  return React.createElement(ConfirmationModalContext.Provider, {\n    value: modalContext,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, props.children, content && React.createElement(\"div\", {\n    onClick: e => e.stopPropagation(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, React.createElement(Modal, {\n    show: show,\n    onHide: onHide,\n    centered: true,\n    dialogClassName: `modal-md`,\n    backdrop: \"static\",\n    keyboard: false,\n    onExit: onExit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, React.createElement(Modal.Header, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, content.title)), React.createElement(Modal.Body, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, content.message)), React.createElement(Modal.Footer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, React.createElement(Button, {\n    className: \"btn btn-default\",\n    onClick: handleCancel,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, \"Cancel\"), React.createElement(Button, {\n    className: \"btn btn-primary\",\n    onClick: handleOk,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, \"OK\")))));\n};\n\nconst useConfirmationModalContext = () => useContext(ConfirmationModalContext);\n\nexport { useConfirmationModalContext };\nexport default ConfirmationModalContextProvider;","map":{"version":3,"sources":["F:/Documents/Documents/_Nest/nest-react-blog-marc/blog-frontend-axios/src/contexts/modalConfirmationContext.tsx"],"names":["React","useContext","useRef","useState","Modal","Button","useModalShow","ConfirmationModalContext","createContext","ConfirmationModalContextProvider","props","setShow","show","onHide","content","setContent","resolver","handleShow","title","message","Promise","resolve","current","modalContext","showConfirmation","handleOk","event","stopPropagation","handleCancel","onExit","alert","children","e","useConfirmationModalContext"],"mappings":"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","sourcesContent":["import React, {useContext, useRef, useState} from \"react\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport { useModalShow } from './useModalShow';\r\n\r\ntype ModalContextType = {\r\n    showConfirmation: (title: string, message: string | JSX.Element) => Promise<boolean>;\r\n};\r\n\r\ntype ConfirmationModalContextProviderProps = {\r\n    children: React.ReactNode\r\n}\r\n\r\nconst ConfirmationModalContext = React.createContext<ModalContextType>({} as ModalContextType);\r\n\r\nconst ConfirmationModalContextProvider: React.FC<ConfirmationModalContextProviderProps> = (props) => {\r\n    const {setShow, show, onHide} = useModalShow();\r\n    const [content, setContent] = useState<{ title: string, message: string | JSX.Element} | null>();\r\n    const resolver = useRef<Function>();\r\n\r\n    const handleShow = (title: string, message: string | JSX.Element): Promise<boolean> => {\r\n        setContent({\r\n            title,\r\n            message\r\n        });\r\n        setShow(true);\r\n        return new Promise(function (resolve) {\r\n            resolver.current = resolve;\r\n        });\r\n    };\r\n\r\n    const modalContext: ModalContextType = {\r\n        showConfirmation: handleShow\r\n    };\r\n\r\n    const handleOk = (event: React.MouseEvent<HTMLElement>) => {\r\n        event.stopPropagation();\r\n        onHide();\r\n        resolver.current && resolver.current(true);\r\n    };\r\n\r\n    const handleCancel = (event: React.MouseEvent<HTMLElement>) => {\r\n        event.stopPropagation();\r\n        onHide();\r\n        resolver.current && resolver.current(false);\r\n    };\r\n\r\n    const onExit = () => {\r\n        alert(\"Goodbye ðŸ˜€\");\r\n        setShow(false);\r\n      };\r\n\r\n    return (\r\n        <ConfirmationModalContext.Provider value={modalContext}>\r\n            {props.children}\r\n\r\n            {content && \r\n            (\r\n            <div onClick={e => e.stopPropagation()}>\r\n                <Modal show={show} onHide={onHide} centered dialogClassName={`modal-md`} backdrop=\"static\" keyboard={false} onExit={onExit}>\r\n                    <Modal.Header>\r\n                        <label>{content.title}</label>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <label>{content.message}</label>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button className=\"btn btn-default\" onClick={handleCancel}>Cancel</Button>\r\n                        <Button className=\"btn btn-primary\" onClick={handleOk}>OK</Button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n            </div>\r\n\r\n            )}\r\n        </ConfirmationModalContext.Provider>\r\n        \r\n    )\r\n};\r\n\r\nconst useConfirmationModalContext = (): ModalContextType => useContext(ConfirmationModalContext);\r\n\r\nexport {\r\n    useConfirmationModalContext,\r\n}\r\n\r\nexport default ConfirmationModalContextProvider;"]},"metadata":{},"sourceType":"module"}