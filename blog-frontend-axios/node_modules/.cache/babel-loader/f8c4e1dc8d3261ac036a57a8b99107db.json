{"ast":null,"code":"var _jsxFileName = \"F:\\\\Documents\\\\Documents\\\\_Nest\\\\nest-react-blog-marc\\\\blog-frontend-axios\\\\src\\\\components\\\\common\\\\ImageUpload.tsx\";\nimport React from 'react';\nimport { getImageFromFile, resizeImage } from '../../utils/image.utils';\n\nconst ImageUpload = props => {\n  const onImageChange = async event => {\n    if (event.target.files && event.target.files[0]) {\n      let img = event.target.files[0];\n\n      const imageUploaded = imageData => {\n        if (props.resize) {\n          resizeImage(imageData, props.resize.maxWidth, props.resize.maxHeight).then(imageData => {\n            props.onImageUpload(imageData);\n          });\n        } else {\n          props.onImageUpload(imageData);\n        }\n      };\n\n      const imageUploadFailed = error => {\n        props.onImageUploadError(error);\n      };\n\n      getImageFromFile(img, imageUploaded, imageUploadFailed);\n    }\n  };\n\n  return React.createElement(\"input\", {\n    className: \"col-md-3\",\n    type: \"file\",\n    id: \"imageFile\",\n    name: \"imageFile\",\n    accept: \".jpeg, .png, .jpg\",\n    onChange: onImageChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  });\n};\n\nexport default ImageUpload;","map":{"version":3,"sources":["F:/Documents/Documents/_Nest/nest-react-blog-marc/blog-frontend-axios/src/components/common/ImageUpload.tsx"],"names":["React","getImageFromFile","resizeImage","ImageUpload","props","onImageChange","event","target","files","img","imageUploaded","imageData","resize","maxWidth","maxHeight","then","onImageUpload","imageUploadFailed","error","onImageUploadError"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,SAASC,gBAAT,EAA2BC,WAA3B,QAA8C,yBAA9C;;AAOA,MAAMC,WAAW,GAAIC,KAAD,IAA6B;AAE5C,QAAMC,aAAa,GAAG,MAAOC,KAAP,IAAsD;AACzE,QAAIA,KAAK,CAACC,MAAN,CAAaC,KAAb,IAAsBF,KAAK,CAACC,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAA1B,EAAiD;AAC7C,UAAIC,GAAG,GAAGH,KAAK,CAACC,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAAV;;AAEA,YAAME,aAAa,GAAIC,SAAD,IAA0B;AAC5C,YAAIP,KAAK,CAACQ,MAAV,EAAkB;AACdV,UAAAA,WAAW,CAACS,SAAD,EAAYP,KAAK,CAACQ,MAAN,CAAaC,QAAzB,EAAmCT,KAAK,CAACQ,MAAN,CAAaE,SAAhD,CAAX,CACKC,IADL,CACUJ,SAAS,IAAI;AACfP,YAAAA,KAAK,CAACY,aAAN,CAAoBL,SAApB;AACH,WAHL;AAIH,SALD,MAKO;AACHP,UAAAA,KAAK,CAACY,aAAN,CAAoBL,SAApB;AACH;AACJ,OATD;;AAWA,YAAMM,iBAAiB,GAAIC,KAAD,IAAgB;AAClCd,QAAAA,KAAK,CAACe,kBAAN,CAAyBD,KAAzB;AACP,OAFD;;AAIAjB,MAAAA,gBAAgB,CAACQ,GAAD,EAAMC,aAAN,EAAqBO,iBAArB,CAAhB;AACF;AACL,GArBA;;AAuBD,SACQ;AACI,IAAA,SAAS,EAAC,UADd;AAEI,IAAA,IAAI,EAAC,MAFT;AAGI,IAAA,EAAE,EAAC,WAHP;AAII,IAAA,IAAI,EAAC,WAJT;AAKI,IAAA,MAAM,EAAC,mBALX;AAMI,IAAA,QAAQ,EAAEZ,aANd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADR;AAUH,CAnCD;;AAqCA,eAAeF,WAAf","sourcesContent":["import React from 'react';\r\nimport { ImageData, ImageSizeProps } from '../../types';\r\nimport { getImageFromFile, resizeImage } from '../../utils/image.utils';\r\nexport interface ImageUploadProps {\r\n    resize: ImageSizeProps,\r\n    onImageUpload: (imageData: ImageData) => void;\r\n    onImageUploadError: (error: any) => void;\r\n}\r\n\r\nconst ImageUpload = (props: ImageUploadProps) => {\r\n\r\n     const onImageChange = async (event: React.ChangeEvent<HTMLInputElement>) => {\r\n        if (event.target.files && event.target.files[0]) {\r\n            let img = event.target.files[0];\r\n\r\n            const imageUploaded = (imageData: ImageData) => {\r\n                if (props.resize) {\r\n                    resizeImage(imageData, props.resize.maxWidth, props.resize.maxHeight) \r\n                        .then(imageData => {\r\n                            props.onImageUpload(imageData);\r\n                        }); \r\n                } else {\r\n                    props.onImageUpload(imageData);\r\n                }\r\n            }\r\n\r\n            const imageUploadFailed = (error: any) => {\r\n                    props.onImageUploadError(error);\r\n            }\r\n\r\n            getImageFromFile(img, imageUploaded, imageUploadFailed);\r\n         }\r\n    };\r\n\r\n    return (\r\n            <input \r\n                className=\"col-md-3\" \r\n                type=\"file\" \r\n                id=\"imageFile\" \r\n                name='imageFile' \r\n                accept=\".jpeg, .png, .jpg\"  \r\n                onChange={onImageChange}\r\n            />\r\n    )\r\n}\r\n\r\nexport default ImageUpload;\r\n"]},"metadata":{},"sourceType":"module"}