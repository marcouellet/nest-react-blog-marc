{"ast":null,"code":"var _jsxFileName = \"F:\\\\Documents\\\\Documents\\\\_Nest\\\\nest-react-blog-marc\\\\blog-frontend-axios\\\\src\\\\components\\\\NavigationBar.tsx\";\nimport React from 'react';\nimport Navbar from 'react-bootstrap/Navbar';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport ButtonGroup from 'react-bootstrap/ButtonGroup';\nimport Nav from 'react-bootstrap/Nav';\nimport NavDropdown from 'react-bootstrap/NavDropdown';\nimport { Link, useNavigate } from 'react-router-dom';\nimport useAuth from '../contexts/auth';\nimport { createActionLogout, createActionLoading } from '../reducers/auth';\nimport AUTHAPI from '../services/api/AuthApiService';\nimport { toast } from \"react-toastify\";\nimport { UserRole } from '../types';\n\nconst NavigationBar = () => {\n  const _useAuth = useAuth(),\n        _useAuth$state = _useAuth.state,\n        user = _useAuth$state.user,\n        isAuthenticated = _useAuth$state.isAuthenticated,\n        isLoading = _useAuth$state.isLoading,\n        dispatch = _useAuth.dispatch;\n\n  const navigate = useNavigate();\n\n  const handleLogout = () => {\n    dispatch(createActionLoading(true));\n    dispatch(createActionLogout());\n    AUTHAPI.logout();\n    toast.info(`${user.username} is logged out`);\n    dispatch(createActionLoading(false));\n    navigate('/');\n  };\n\n  const handleUserProfile = () => {\n    navigate('/user/profile');\n  };\n\n  const isAdministrator = () => isAuthenticated && (user === null || user === void 0 ? void 0 : user.role) === UserRole.ADMIN;\n\n  const userDisplay = () => {\n    let userInfo = '';\n\n    if (isAuthenticated) {\n      userInfo = user.email;\n    }\n\n    if (isAdministrator()) {\n      userInfo += ' (administrator)';\n    }\n\n    return userInfo;\n  };\n\n  const authButton = () => {\n    if (isAuthenticated) {\n      return React.createElement(ButtonGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"secondary\",\n        onClick: handleLogout,\n        disabled: isLoading,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, \"Logout\"), React.createElement(Button, {\n        variant: \"secondary\",\n        onClick: handleUserProfile,\n        disabled: isLoading,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, \"Profile\"));\n    } else {\n      return React.createElement(ButtonGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"secondary\",\n        as: Link,\n        to: \"/login\",\n        disabled: isLoading,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, \"Login\"), React.createElement(Button, {\n        variant: \"secondary\",\n        as: Link,\n        to: \"/register\",\n        disabled: isLoading,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, \"Register\"));\n    }\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(Navbar, {\n    expand: \"lg\",\n    bg: \"dark\",\n    variant: \"dark\",\n    fixed: \"top\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"container-fluid\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, React.createElement(Navbar.Brand, {\n    href: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, \"Marc's Blog\"), React.createElement(Navbar.Text, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, userDisplay()), React.createElement(Nav, {\n    className: \"me-auto\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, React.createElement(Nav.Link, {\n    href: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, \"Home\")), React.createElement(Link, {\n    to: \"/blog\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, React.createElement(Nav.Link, {\n    href: \"/blog\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, \"Blogs\")), isAuthenticated && React.createElement(NavDropdown, {\n    id: \"nav-dropdown-manage\",\n    title: \"Manage\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, !isAdministrator() && React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, React.createElement(NavDropdown.Item, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, \"Posts\", React.createElement(Link, {\n    to: \"/post/user\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, React.createElement(Nav.Link, {\n    href: \"/post/user\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, \"Posts\")))), isAdministrator() && React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, React.createElement(NavDropdown.Item, {\n    href: \"/post\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, \"Posts\"), React.createElement(NavDropdown.Item, {\n    href: \"/category\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, \"Categories\"), React.createElement(NavDropdown.Item, {\n    href: \"/user\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, \"Users\"))))), React.createElement(Form, {\n    inline: true,\n    className: \"mx-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, authButton())), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }));\n};\n\nexport default NavigationBar;","map":{"version":3,"sources":["F:/Documents/Documents/_Nest/nest-react-blog-marc/blog-frontend-axios/src/components/NavigationBar.tsx"],"names":["React","Navbar","Form","Button","ButtonGroup","Nav","NavDropdown","Link","useNavigate","useAuth","createActionLogout","createActionLoading","AUTHAPI","toast","UserRole","NavigationBar","state","user","isAuthenticated","isLoading","dispatch","navigate","handleLogout","logout","info","username","handleUserProfile","isAdministrator","role","ADMIN","userDisplay","userInfo","email","authButton"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport Navbar from 'react-bootstrap/Navbar';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Button from 'react-bootstrap/Button';\r\nimport ButtonGroup from 'react-bootstrap/ButtonGroup';\r\nimport Nav from 'react-bootstrap/Nav';\r\nimport NavDropdown from 'react-bootstrap/NavDropdown';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport useAuth from '../contexts/auth';\r\nimport { createActionLogout, createActionLoading } from '../reducers/auth';\r\nimport AUTHAPI from '../services/api/AuthApiService';\r\nimport { toast } from \"react-toastify\";\r\nimport { UserRole } from '../types';\r\nimport { NavItem } from 'react-bootstrap';\r\n\r\nconst NavigationBar = () => {\r\n    const { state: { user, isAuthenticated, isLoading}, dispatch } = useAuth();\r\n    const navigate = useNavigate();\r\n\r\n     const handleLogout = () => {\r\n        dispatch(createActionLoading(true));\r\n        dispatch(createActionLogout());\r\n        AUTHAPI.logout();\r\n        toast.info(`${user!.username} is logged out`);\r\n        dispatch(createActionLoading(false));\r\n        navigate('/');\r\n      };\r\n\r\n      const handleUserProfile = () => {\r\n        navigate('/user/profile');\r\n      }\r\n\r\n    const isAdministrator = () => isAuthenticated && user?.role === UserRole.ADMIN;\r\n\r\n    const userDisplay = () => {\r\n        let userInfo: string = '';\r\n        if (isAuthenticated) {\r\n            userInfo = user!.email;\r\n        }\r\n        if (isAdministrator()) {\r\n            userInfo += ' (administrator)';\r\n        }\r\n        return userInfo;\r\n    }\r\n\r\n    const authButton = () => {\r\n        if (isAuthenticated) {\r\n            return (\r\n                <ButtonGroup>\r\n                    <Button variant=\"secondary\" onClick={handleLogout} disabled={isLoading}>Logout</Button>\r\n                    <Button variant=\"secondary\" onClick={handleUserProfile}  disabled={isLoading}>Profile</Button>\r\n                </ButtonGroup>\r\n            )\r\n        } else {\r\n            return (\r\n                <ButtonGroup>\r\n                    <Button variant=\"secondary\" as={Link} to=\"/login\" disabled={isLoading}>Login</Button>\r\n                    <Button variant=\"secondary\" as={Link} to=\"/register\" disabled={isLoading}>Register</Button>\r\n                </ButtonGroup>\r\n            )              \r\n        } \r\n    }\r\n\r\n    return (\r\n    <>\r\n        <Navbar expand=\"lg\" bg=\"dark\" variant=\"dark\" fixed=\"top\">\r\n            <div className=\"container-fluid\">\r\n                <Navbar.Brand href=\"/\">Marc's Blog</Navbar.Brand>\r\n                <Navbar.Text>{userDisplay()}</Navbar.Text>\r\n                <Nav className=\"me-auto\">\r\n                    <Link to=\"/\"><Nav.Link href=\"/\">Home</Nav.Link></Link>\r\n                    <Link to=\"/blog\"><Nav.Link href=\"/blog\">Blogs</Nav.Link></Link>\r\n                    {isAuthenticated && (\r\n                        <NavDropdown id=\"nav-dropdown-manage\" title=\"Manage\">\r\n                         {!isAdministrator() && (\r\n                            <div>\r\n                                {/* <NavDropdown.Item href=\"/post/user\">Posts</NavDropdown.Item> */}\r\n                                <NavDropdown.Item>Posts\r\n                                    <Link to=\"/post/user\"><Nav.Link href=\"/post/user\">Posts</Nav.Link></Link>                                    \r\n                                </NavDropdown.Item>\r\n                            </div>\r\n                        )\r\n                        }                        \r\n                        {isAdministrator() && (\r\n                            <div>\r\n                                <NavDropdown.Item href=\"/post\">Posts</NavDropdown.Item>\r\n                                <NavDropdown.Item href=\"/category\">Categories</NavDropdown.Item>\r\n                                <NavDropdown.Item href=\"/user\">Users</NavDropdown.Item>\r\n                            </div>\r\n                        )\r\n                        }\r\n                        </NavDropdown>\r\n                    )\r\n                    }\r\n                </Nav>\r\n            </div>\r\n            <Form inline className=\"mx-3\">\r\n                {authButton()}\r\n            </Form>\r\n        </Navbar>\r\n        <br/>\r\n        <br/>\r\n        <br/>\r\n    </>\r\n    );\r\n}\r\n\r\nexport default NavigationBar;\r\n"]},"metadata":{},"sourceType":"module"}