{"ast":null,"code":"import _slicedToArray from \"F:\\\\Documents\\\\Documents\\\\_Nest\\\\nest-react-blog-marc\\\\blog-frontend-axios\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"F:\\\\Documents\\\\Documents\\\\_Nest\\\\nest-react-blog-marc\\\\blog-frontend-axios\\\\src\\\\contexts\\\\modalContext.tsx\";\nimport React, { useContext, useState, useRef } from \"react\";\nimport Modal from \"react-bootstrap/Modal\";\nimport { useModalShow } from './useModalShow';\nconst ModalContext = React.createContext({});\n\nconst ModalContextProvider = props => {\n  const _useModalShow = useModalShow(),\n        setShow = _useModalShow.setShow,\n        show = _useModalShow.show,\n        onHide = _useModalShow.onHide;\n\n  const _useState = useState(),\n        _useState2 = _slicedToArray(_useState, 2),\n        modalContent = _useState2[0],\n        setModalContent = _useState2[1];\n\n  const resolver = useRef();\n\n  const handleShow = content => {\n    setModalContent({\n      content\n    });\n    setShow(true);\n    return new Promise(function (resolve) {\n      resolver.current = resolve;\n    });\n  };\n\n  const modalContext = {\n    showModal: handleShow\n  };\n\n  const handleClose = () => {\n    resolver.current && resolver.current(true);\n    onHide();\n  };\n\n  return React.createElement(ModalContext.Provider, {\n    value: modalContext,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, props.children, modalContent && React.createElement(Modal, {\n    show: show,\n    onHide: onHide,\n    centered: true,\n    dialogClassName: `modal-md`,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, React.createElement(Modal.Body, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, modalContent)), React.createElement(Modal.Footer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"btn btn-default\",\n    onClick: handleClose,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, \"Close\"))));\n};\n\nconst useModalContext = () => useContext(ModalContext);\n\nexport { useModalShow, useModalContext };\nexport default ModalContextProvider;","map":{"version":3,"sources":["F:/Documents/Documents/_Nest/nest-react-blog-marc/blog-frontend-axios/src/contexts/modalContext.tsx"],"names":["React","useContext","useState","useRef","Modal","useModalShow","ModalContext","createContext","ModalContextProvider","props","setShow","show","onHide","modalContent","setModalContent","resolver","handleShow","content","Promise","resolve","current","modalContext","showModal","handleClose","children","useModalContext"],"mappings":";;AAAA,OAAOA,KAAP,IAAeC,UAAf,EAA2BC,QAA3B,EAAqCC,MAArC,QAAmD,OAAnD;AACA,OAAOC,KAAP,MAAkB,uBAAlB;AACA,SAASC,YAAT,QAA6B,gBAA7B;AAUA,MAAMC,YAAY,GAAGN,KAAK,CAACO,aAAN,CAAsC,EAAtC,CAArB;;AAEA,MAAMC,oBAAyD,GAAIC,KAAD,IAAW;AAAA,wBACzCJ,YAAY,EAD6B;AAAA,QAClEK,OADkE,iBAClEA,OADkE;AAAA,QACzDC,IADyD,iBACzDA,IADyD;AAAA,QACnDC,MADmD,iBACnDA,MADmD;;AAAA,oBAEjCV,QAAQ,EAFyB;AAAA;AAAA,QAElEW,YAFkE;AAAA,QAEpDC,eAFoD;;AAGzE,QAAMC,QAAQ,GAAGZ,MAAM,EAAvB;;AAEA,QAAMa,UAAU,GAAIC,OAAD,IAA4C;AAC3DH,IAAAA,eAAe,CAAC;AAACG,MAAAA;AAAD,KAAD,CAAf;AACAP,IAAAA,OAAO,CAAC,IAAD,CAAP;AACA,WAAO,IAAIQ,OAAJ,CAAY,UAAUC,OAAV,EAAmB;AAClCJ,MAAAA,QAAQ,CAACK,OAAT,GAAmBD,OAAnB;AACH,KAFM,CAAP;AAGH,GAND;;AAQA,QAAME,YAA8B,GAAG;AACnCC,IAAAA,SAAS,EAAEN;AADwB,GAAvC;;AAIA,QAAMO,WAAW,GAAG,MAAM;AACtBR,IAAAA,QAAQ,CAACK,OAAT,IAAoBL,QAAQ,CAACK,OAAT,CAAiB,IAAjB,CAApB;AACAR,IAAAA,MAAM;AACT,GAHD;;AAKA,SACI,oBAAC,YAAD,CAAc,QAAd;AAAuB,IAAA,KAAK,EAAES,YAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKZ,KAAK,CAACe,QADX,EAGKX,YAAY,IAET,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAEF,IAAb;AAAmB,IAAA,MAAM,EAAEC,MAA3B;AAAmC,IAAA,QAAQ,MAA3C;AAA4C,IAAA,eAAe,EAAG,UAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,KAAD,CAAO,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKC,YADL,CADJ,CADJ,EAMQ,oBAAC,KAAD,CAAO,MAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA;AAAQ,IAAA,SAAS,EAAC,iBAAlB;AAAoC,IAAA,OAAO,EAAEU,WAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADA,CANR,CALR,CADJ;AAoBH,CA1CD;;AA4CA,MAAME,eAAe,GAAG,MAAwBxB,UAAU,CAACK,YAAD,CAA1D;;AAEA,SACID,YADJ,EAEIoB,eAFJ;AAKA,eAAejB,oBAAf","sourcesContent":["import React, {useContext, useState, useRef } from \"react\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport { useModalShow } from './useModalShow';\r\n\r\ntype ModalContextType = {\r\n    showModal: (content: HTMLElement) => Promise<boolean>;\r\n};\r\n\r\ntype ModalContextProviderProps = {\r\n    children: HTMLElement\r\n}\r\n\r\nconst ModalContext = React.createContext<ModalContextType>({} as ModalContextType);\r\n\r\nconst ModalContextProvider: React.FC<ModalContextProviderProps> = (props) => {\r\n    const {setShow, show, onHide} = useModalShow();\r\n    const [modalContent, setModalContent] = useState<{content: string | HTMLElement} | null>();\r\n    const resolver = useRef<Function>();\r\n\r\n    const handleShow = (content: HTMLElement): Promise<boolean> => {\r\n        setModalContent({content});\r\n        setShow(true);\r\n        return new Promise(function (resolve) {\r\n            resolver.current = resolve;\r\n        });\r\n    };\r\n\r\n    const modalContext: ModalContextType = {\r\n        showModal: handleShow\r\n    };\r\n\r\n    const handleClose = () => {\r\n        resolver.current && resolver.current(true);\r\n        onHide();\r\n    };\r\n\r\n    return (\r\n        <ModalContext.Provider value={modalContext}>\r\n            {props.children}\r\n\r\n            {modalContent && \r\n            (               \r\n                <Modal show={show} onHide={onHide} centered dialogClassName={`modal-md`}>\r\n                    <Modal.Body>\r\n                        <div>\r\n                            {modalContent} \r\n                        </div>                  \r\n                    </Modal.Body>\r\n                        <Modal.Footer>\r\n                        <button className=\"btn btn-default\" onClick={handleClose}>Close</button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n            )\r\n            }\r\n        </ModalContext.Provider>      \r\n    )\r\n};\r\n\r\nconst useModalContext = (): ModalContextType => useContext(ModalContext);\r\n\r\nexport {\r\n    useModalShow,\r\n    useModalContext,\r\n}\r\n\r\nexport default ModalContextProvider;"]},"metadata":{},"sourceType":"module"}