{"ast":null,"code":"var _jsxFileName = \"F:\\\\Documents\\\\Documents\\\\_Nest\\\\nest-react-blog-marc\\\\blog-frontend-axios\\\\src\\\\components\\\\auth\\\\sessionTimeoutHandler.tsx\";\nimport React, { useEffect } from 'react';\nimport useAuth from '../../contexts/auth';\nimport { createActionLogout } from '../../reducers/auth';\nimport { useConfirmationModalContext } from \"../../contexts/modalConfirmationContext\";\n\nasync function sessionTimeoutConfirmation() {\n  const modalContext = useConfirmationModalContext();\n  return modalContext.showConfirmation('Session expired', React.createElement(\"div\", {\n    style: {\n      border: \"2px solid blue\",\n      padding: \"10px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12\n    },\n    __self: this\n  }, \"Do you want to stay logged in?\")));\n}\n\nconst SessionTimeoutHandler = () => {\n  const modalContext = useConfirmationModalContext();\n\n  const _useAuth = useAuth(),\n        state = _useAuth.state,\n        dispatch = _useAuth.dispatch;\n\n  const showSessionTimeoutModel = async () => {\n    return modalContext.showConfirmation('Session expired', React.createElement(\"div\", {\n      style: {\n        border: \"2px solid blue\",\n        padding: \"10px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27\n      },\n      __self: this\n    }, \"Do you want to stay logged in?\")));\n  };\n\n  useEffect(() => {\n    if (state.isSessionExpired) {\n      showSessionTimeoutModel().then(result => {\n        if (result) {// Session must be renewed\n        } else {\n          dispatch(createActionLogout());\n        }\n      });\n    }\n  }, []);\n};\n\nexport default SessionTimeoutHandler;","map":{"version":3,"sources":["F:/Documents/Documents/_Nest/nest-react-blog-marc/blog-frontend-axios/src/components/auth/sessionTimeoutHandler.tsx"],"names":["React","useEffect","useAuth","createActionLogout","useConfirmationModalContext","sessionTimeoutConfirmation","modalContext","showConfirmation","border","padding","SessionTimeoutHandler","state","dispatch","showSessionTimeoutModel","isSessionExpired","then","result"],"mappings":";AAAA,OAAOA,KAAP,IAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,OAAP,MAAoB,qBAApB;AACA,SAASC,kBAAT,QAAmC,qBAAnC;AACA,SAAQC,2BAAR,QAA0C,yCAA1C;;AAEA,eAAeC,0BAAf,GAA8D;AAC1D,QAAMC,YAAY,GAAGF,2BAA2B,EAAhD;AAEA,SAAOE,YAAY,CAACC,gBAAb,CACH,iBADG,EAEH;AAAK,IAAA,KAAK,EAAE;AAACC,MAAAA,MAAM,EAAE,gBAAT;AAA2BC,MAAAA,OAAO,EAAE;AAApC,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCADJ,CAFG,CAAP;AAQH;;AAED,MAAMC,qBAAqB,GAAG,MAAM;AAChC,QAAMJ,YAAY,GAAGF,2BAA2B,EAAhD;;AADgC,mBAEJF,OAAO,EAFH;AAAA,QAExBS,KAFwB,YAExBA,KAFwB;AAAA,QAEjBC,QAFiB,YAEjBA,QAFiB;;AAIhC,QAAMC,uBAAuB,GAAG,YAA8B;AAC1D,WAAOP,YAAY,CAACC,gBAAb,CACH,iBADG,EAEH;AAAK,MAAA,KAAK,EAAE;AAACC,QAAAA,MAAM,EAAE,gBAAT;AAA2BC,QAAAA,OAAO,EAAE;AAApC,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCADJ,CAFG,CAAP;AAQH,GATD;;AAWAR,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAIU,KAAK,CAACG,gBAAV,EAA4B;AACxBD,MAAAA,uBAAuB,GAAGE,IAA1B,CAAgCC,MAAD,IAAY;AACvC,YAAIA,MAAJ,EAAY,CACR;AACH,SAFD,MAEO;AACHJ,UAAAA,QAAQ,CAACT,kBAAkB,EAAnB,CAAR;AACH;AACJ,OAND;AAQH;AACJ,GAXQ,EAWN,EAXM,CAAT;AAYH,CA3BD;;AA6BA,eAAeO,qBAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport useAuth from '../../contexts/auth';\r\nimport { createActionLogout } from '../../reducers/auth';\r\nimport {useConfirmationModalContext} from \"../../contexts/modalConfirmationContext\";\r\n\r\nasync function sessionTimeoutConfirmation(): Promise<boolean> {\r\n    const modalContext = useConfirmationModalContext();\r\n\r\n    return modalContext.showConfirmation(\r\n        'Session expired',\r\n        <div style={{border: \"2px solid blue\", padding: \"10px\"}}>\r\n            <p>\r\n                Do you want to stay logged in?\r\n            </p>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst SessionTimeoutHandler = () => {\r\n    const modalContext = useConfirmationModalContext();\r\n    const { state, dispatch } = useAuth();\r\n\r\n    const showSessionTimeoutModel = async (): Promise<boolean> => {\r\n        return modalContext.showConfirmation(\r\n            'Session expired',\r\n            <div style={{border: \"2px solid blue\", padding: \"10px\"}}>\r\n                <p>\r\n                    Do you want to stay logged in?\r\n                </p>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (state.isSessionExpired) {\r\n            showSessionTimeoutModel().then((result) => {\r\n                if (result) {\r\n                    // Session must be renewed\r\n                } else {\r\n                    dispatch(createActionLogout());\r\n                }\r\n            });\r\n     \r\n        }\r\n    }, [])\r\n};\r\n\r\nexport default SessionTimeoutHandler;"]},"metadata":{},"sourceType":"module"}